<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Big D's Tree Service Janesville WI | Tree Removal, Pruning & Storm Cleanup</title>
    <meta name="description"
        content="Safe, efficient tree service near me in Janesville, WI. Precision removal, pruning, and emergency response for Rock County homes. Every cut counts‚Äîget started today.">

    <!-- Preload Critical Image (Assuming Winter for now due to date) -->
    <link rel="preload" as="image" href="assets/images/hero-winter.png" fetchpriority="high">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Outfit:wght@600;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">

    <!-- Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TreeService",
      "name": "Big D's Tree Service",
      "founder": "Corey Dean",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Janesville Area",
        "addressLocality": "Janesville",
        "addressRegion": "WI",
        "postalCode": "53545",
        "addressCountry": "US"
      },
      "telephone": "(262) 215-0497",
      "email": "shipithon@gmail.com",
      "priceRange": "$$",
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 42.6828,
        "longitude": -89.0187
      },
      "areaServed": ["Janesville", "Rock County", "Walworth", "Jefferson", "Dane", "Racine"],
      "sameAs": [
        "https://www.facebook.com/BigDsTreeService"
      ]
    }
    </script>
</head>

<body>

    <!-- Hero Header Bar -->
    <header class="site-hero-bar" style="position:sticky; top:0; z-index:50; background:linear-gradient(135deg,#0f2f57,#1a4b84); color:#fff; padding:.75rem 1rem; display:flex; justify-content:space-between; align-items:center; box-shadow:0 6px 18px rgba(0,0,0,.22)">
        <strong>Big D‚Äôs Tree Service</strong>
        <nav style="display:flex; gap:.75rem; align-items:center; font-size:.95rem;">
            <a href="#hero" style="color:#fff; text-decoration:none;">Home</a>
            <a href="services.html" style="color:#fff; text-decoration:none;">Services</a>
            <a href="#quick-quote" style="color:#fff; text-decoration:none;">Quick Quote</a>
            <a href="tel:2622150497" style="color:#fff; text-decoration:none; font-weight:700;">(262) 215-0497</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <header class="hero" id="hero">
        <!-- Background Layer -->
        <div class="hero-bg">
            <img src="assets/images/hero-spring.png" alt="Big D's Tree Service Janesville - Historic home in Spring"
                class="hero-img spring" loading="lazy">
            <img src="assets/images/hero-summer.png" alt="Big D's Tree Service Janesville - Historic home in Summer"
                class="hero-img summer" loading="lazy">
            <img src="assets/images/hero-fall.png" alt="Big D's Tree Service Janesville - Historic home in Fall"
                class="hero-img fall" loading="lazy">
            <img src="assets/images/hero-winter.png" alt="Big D's Tree Service Janesville - Historic home in Winter"
                class="hero-img winter active" fetchpriority="high">
            <img src="assets/images/hero-night.png" alt="Big D's Tree Service Janesville - Historic home at Night"
                class="hero-img night" loading="lazy">
        </div>

        <!-- Overlay -->
        <div class="hero-content">
            <h1 class="hero-title">Your Home. Protected.</h1>
            <p class="hero-sub">Through every season. Every cut counts.</p>

            <form class="hero-form" onsubmit="event.preventDefault(); handleHeroSubmit();">
                <div class="input-group">
                    <input type="text" id="concernInput"
                        placeholder="Type Tree, Stump or Branches"
                        aria-label="Describe your tree concern" required>
                    <button type="submit" class="btn-primary">Get Started</button>
                </div>
            </form>
        </div>

        <!-- Chat Modal (Hidden initially) -->
        <div class="hero-response" id="heroResponse">
            <div class="response-wrapper chat-wrapper">
                <div class="chat-container">
                    <div class="chat-header">
                        <div class="chat-title">
                            <span class="chat-icon">üå≥</span>
                            <span>Big D's Smart Desk</span>
                        </div>
                        <button class="close-modal" aria-label="Close" onclick="closeChat()">&times;</button>
                    </div>

                    <!-- Chat Messages Area -->
                    <div class="chat-messages" id="chatMessages">
                        <!-- Messages will be injected here -->
                    </div>

                    <!-- Photo Upload Section (hidden until ready) -->
                    <div class="photo-section hidden" id="photoSection">
                        <div class="photo-tips">
                            <span class="tip">üìç Full tree</span>
                            <span class="tip">üå≥ Base/trunk</span>
                            <span class="tip">‚ö° Power lines</span>
                        </div>
                        <div class="photo-upload-area" id="drop-zone">
                            <div class="upload-icon">üì∑</div>
                            <p>Tap to add photos</p>
                            <input type="file" id="photo-input" multiple accept="image/*" hidden>
                            <div class="preview-grid" id="photo-previews"></div>
                        </div>
                        <button class="btn-primary" onclick="submitWithPhotos()">Submit Request</button>
                    </div>

                    <!-- Result Section (hidden until complete) -->
                    <div class="result-section hidden" id="resultSection">
                        <div id="result-content"></div>
                        <button class="btn-primary" onclick="closeChat()">Done</button>
                    </div>

                    <!-- Chat Input -->
                    <div class="chat-input-area" id="chatInputArea">
                        <input type="text" id="chatInput" placeholder="Type your response..."
                            onkeypress="if(event.key==='Enter')sendUserMessage()">
                        <button class="send-btn" onclick="sendUserMessage()">
                            <span>Send</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Settings Button (Footer) -->


    <!-- Settings Modal -->


    <!-- Main Content -->
    <main>
        <!-- Close / CTA -->
        <section class="section close" style="padding-top:1rem; padding-bottom:1.5rem; margin-top:0;">
            <div class="container center-text">
                <h2>Ready to protect what matters?</h2>
                <a href="tel:2622150497" class="btn-large">Call (262) 215-0497</a>
            </div>
        </section>

        <!-- Old-School Quick Quote Form -->
        <section class="section" id="quick-quote" style="background:#f1f5f9; color:#0f172a;">
            <div class="container" style="max-width:760px;">
                <h2 style="margin-bottom:.5rem;">Quick Quote Request</h2>
                <p style="margin-bottom:1rem; opacity:.9;">Simple form. Add photos. We email the owner directly.</p>
                <form id="quickQuoteForm" style="display:grid; gap:.75rem; background:#fff; padding:1rem; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.1);">
                    <input name="name" required placeholder="Name" style="padding:.75rem; border:1px solid #cbd5e1; border-radius:8px;">
                    <input name="phone" required placeholder="Phone Number" style="padding:.75rem; border:1px solid #cbd5e1; border-radius:8px;">
                    <input type="email" name="email" placeholder="Email" style="padding:.75rem; border:1px solid #cbd5e1; border-radius:8px;">
                    <input name="address" placeholder="Address" style="padding:.75rem; border:1px solid #cbd5e1; border-radius:8px;">
                    <textarea name="details" required placeholder="What are your tree care and preservation needs?" style="min-height:120px; padding:.75rem; border:1px solid #cbd5e1; border-radius:8px;"></textarea>
                    <input type="file" name="photos" id="quickQuotePhotos" multiple accept="image/*">
                    <button type="submit" class="btn-primary" id="quickQuoteBtn">Send Request</button>
                    <small id="quickQuoteMsg" style="opacity:.85;"></small>
                </form>
            </div>
        </section>

        <!-- Added Info Section -->
        <section class="section" id="more-info" style="background:#ffffff; color:#0f172a;">
            <div class="container" style="max-width:980px; display:grid; gap:1rem;">
                <h2>More About Big D‚Äôs Tree Service</h2>
                <p>Big D‚Äôs Tree Service LLC is a family-owned and operated company built on local roots, safety, and dependable results. Based in the Janesville area, we proudly serve Rock, Walworth, Jefferson, Dane, and Racine Counties with rapid response and quality cleanup from start to finish.</p>

                <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:.75rem;">
                    <div style="background:#fff; border:1px solid #e2e8f0; border-radius:10px; padding:.9rem;">
                        <strong>Services</strong>
                        <ul style="margin:.5rem 0 0 1rem;">
                            <li>24/7 Emergency Storm Damage</li>
                            <li>Storm Clean Up</li>
                            <li>Tree Removal</li>
                            <li>Tree Pruning / Trimming</li>
                            <li>Stump Grinding</li>
                            <li>Land Clearing / Forestry Mulching</li>
                            <li>Tree Planting</li>
                        </ul>
                    </div>
                    <div style="background:#fff; border:1px solid #e2e8f0; border-radius:10px; padding:.9rem;">
                        <strong>Service Area</strong>
                        <p style="margin-top:.5rem;">Rock, Walworth, Jefferson, Dane, and Racine Counties.</p>
                        <strong>Call/Text:</strong>
                        <p><a href="tel:2622150497">(262) 215-0497</a></p>
                        <p style="margin-top:.35rem;"><strong>Free, No-Obligation Estimates</strong></p>
                    </div>
                    <div style="background:#fff; border:1px solid #e2e8f0; border-radius:10px; padding:.9rem;">
                        <strong>Discounts (Year-Round)</strong>
                        <ul style="margin:.5rem 0 0 1rem;">
                            <li>Veterans</li>
                            <li>Firefighter / EMT / First Responders</li>
                            <li>Nurse & Doctor</li>
                            <li>Repeat Clients</li>
                        </ul>
                    </div>
                </div>

                <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:.75rem;">
                    <div style="background:#fff; border:1px solid #e2e8f0; border-radius:10px; padding:1rem;">
                        <strong>Reviews</strong>
                        <p style="margin:.45rem 0;">Check our Google listing first for the latest customer feedback and 5-star service history.</p>
                        <a href="https://www.google.com/search?q=Big+D%27s+Tree+Service+Janesville+WI" target="_blank" rel="noopener" style="color:#1d4ed8; text-decoration:underline;">View Google Reviews</a>
                    </div>
                    <div style="background:#fff; border:1px solid #e2e8f0; border-radius:10px; padding:1rem;">
                        <strong>Gallery & Videos</strong>
                        <p style="margin:.45rem 0;">See photos and videos of our team working in the field.</p>
                        <a href="https://www.facebook.com/BigDsTreeService" target="_blank" rel="noopener" style="color:#1d4ed8; text-decoration:underline;">View Facebook Gallery</a>
                    </div>
                </div>

                <div style="background:#fff; border-left:4px solid #c53030; border-radius:8px; padding:1rem;">
                    <strong>Private Feedback Survey</strong>
                    <p style="margin:.4rem 0 0;">Every estimate/customer can share direct feedback privately with our team so we can keep improving service without pushing clients to post publicly.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p class="nap">Big D's Tree Service, Janesville, WI 53545 | (262) 215-0497 | shipithon@gmail.com</p>
            <p class="areas">Serving Janesville, Rock County, Walworth, Jefferson, Dane, Racine</p>
        </div>
    </footer>

    <script src="env.js"></script>
    <script>
      (function(){
        const form = document.getElementById('quickQuoteForm');
        if(!form) return;
        const btn = document.getElementById('quickQuoteBtn');
        const msg = document.getElementById('quickQuoteMsg');
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          btn.disabled = true;
          msg.textContent = 'Sending...';
          const fd = new FormData(form);
          try {
            const API_BASE = (window.ENV && window.ENV.API_BASE) || 'http://localhost:3001';
            const res = await fetch(`${API_BASE}/api/quote`, { method:'POST', body: fd });
            if(!res.ok) throw new Error('Request failed');
            form.reset();
            msg.textContent = '‚úÖ Request sent. We will reach out shortly.';
          } catch (err) {
            msg.textContent = '‚ùå Could not send. Please call (262) 215-0497.';
          } finally {
            btn.disabled = false;
          }
        });
      })();
    </script>
    <script type="module" src="frontend/script.js"></script>
</body>

</html>